= Bash: Run a Function over SSH =

:bash:ci: Running few bash commands on a remote host often looks like this:

{{{bash
# shellcheck disable=SC2087
ssh "$_remote" bash << EOF
  ...
EOF
}}}

Expansion happens on the current host, note the shellcheck directive -- I want
to pass few parameters to a remote. Often I want to run same commands locally too,
which leads to code duplication.

Bash has this cool built-in feature: `declare`. It can be abused to send bash
code to a remote:

{{{bash
_install_application () {
  ...
}

# shellcheck disable=SC2087
ssh "$_remote" bash << EOF
  $(declare -f _install_application);
  _install_application
EOF
}}}
